{"ast":null,"code":"var _jsxFileName = \"/Users/lidiiamiloserdova/Internet-programming/lab4/Interview-in-IT/client/src/components/Registry/Registry.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useHistory, Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { useDispatch } from 'react-redux';\nimport { setAuth } from '../../redux/actions/auth.action';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Registry() {\n  _s();\n\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    const input_data = Object.fromEntries(new FormData(event.target));\n\n    try {\n      axios.post('http://localhost:3000/auth/registration', {\n        firstName: input_data.firstName,\n        lastName: input_data.lastName,\n        email: input_data.email,\n        password: input_data.password\n      }).then(response => {\n        //удалить эту логику кроме push\n        dispatch(setAuth());\n        localStorage.setItem('user_id', response.data.id);\n        history.push('/');\n      });\n    } catch (e) {\n      alert(e.response.data.message);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 2\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"\\u0418\\u043C\\u044F\",\n        autoFocus: true,\n        name: \"firstName\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F\",\n        name: \"lastName\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        placeholder: \"email\",\n        name: \"email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"password\",\n        name: \"password\",\n        type: \"password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary btn-block btn-large\",\n        children: \"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 1\n  }, this);\n}\n\n_s(Registry, \"ztFVC0/0rI8de3REyGzb7ruuLNE=\", false, function () {\n  return [useHistory, useDispatch];\n});\n\n_c = Registry;\nexport default Registry;\n\nvar _c;\n\n$RefreshReg$(_c, \"Registry\");","map":{"version":3,"sources":["/Users/lidiiamiloserdova/Internet-programming/lab4/Interview-in-IT/client/src/components/Registry/Registry.js"],"names":["React","useState","useHistory","Link","axios","useDispatch","setAuth","Registry","history","dispatch","handleSubmit","event","preventDefault","input_data","Object","fromEntries","FormData","target","post","firstName","lastName","email","password","then","response","localStorage","setItem","data","id","push","e","alert","message"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,SAAQC,UAAR,EAAoBC,IAApB,QAA+B,kBAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,WAAR,QAA0B,aAA1B;AACA,SAASC,OAAT,QAAwB,iCAAxB;;;AAGA,SAASC,QAAT,GAAmB;AAAA;;AAEjB,QAAMC,OAAO,GAAGN,UAAU,EAA1B;AACA,QAAMO,QAAQ,GAAGJ,WAAW,EAA5B;;AAEA,WAASK,YAAT,CAAsBC,KAAtB,EAA4B;AAE1BA,IAAAA,KAAK,CAACC,cAAN;AACA,UAAMC,UAAU,GAAGC,MAAM,CAACC,WAAP,CAAmB,IAAIC,QAAJ,CAAaL,KAAK,CAACM,MAAnB,CAAnB,CAAnB;;AAEA,QAAG;AACCb,MAAAA,KAAK,CAACc,IAAN,CAAW,yCAAX,EAAsD;AACtDC,QAAAA,SAAS,EAAEN,UAAU,CAACM,SADgC;AAEtDC,QAAAA,QAAQ,EAAEP,UAAU,CAACO,QAFiC;AAGtDC,QAAAA,KAAK,EAAER,UAAU,CAACQ,KAHoC;AAItDC,QAAAA,QAAQ,EAAET,UAAU,CAACS;AAJiC,OAAtD,EAKDC,IALC,CAKKC,QAAD,IACR;AAEE;AACAf,QAAAA,QAAQ,CAACH,OAAO,EAAR,CAAR;AACAmB,QAAAA,YAAY,CAACC,OAAb,CAAqB,SAArB,EAAgCF,QAAQ,CAACG,IAAT,CAAcC,EAA9C;AACApB,QAAAA,OAAO,CAACqB,IAAR,CAAa,GAAb;AAED,OAbG;AAeH,KAhBD,CAgBE,OAAMC,CAAN,EAAQ;AACRC,MAAAA,KAAK,CAACD,CAAC,CAACN,QAAF,CAAWG,IAAX,CAAgBK,OAAjB,CAAL;AACD;AAKF;;AAGD,sBAGF;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA,4BACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,eAEI;AAAM,MAAA,QAAQ,EAAEtB,YAAhB;AAAA,8BACA;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,WAAW,EAAC,oBAA/B;AAAqC,QAAA,SAAS,MAA9C;AAA+C,QAAA,IAAI,EAAC;AAApD;AAAA;AAAA;AAAA;AAAA,cADA,eAEA;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,WAAW,EAAC,4CAA/B;AAA0C,QAAA,IAAI,EAAC;AAA/C;AAAA;AAAA;AAAA;AAAA,cAFA,eAGA;AAAO,QAAA,IAAI,EAAC,OAAZ;AAAoB,QAAA,WAAW,EAAC,OAAhC;AAAyC,QAAA,IAAI,EAAC;AAA9C;AAAA;AAAA;AAAA;AAAA,cAHA,eAIA;AAAO,QAAA,IAAI,EAAC,UAAZ;AAAuB,QAAA,WAAW,EAAC,UAAnC;AAA8C,QAAA,IAAI,EAAC,UAAnD;AAA8D,QAAA,IAAI,EAAC;AAAnE;AAAA;AAAA;AAAA;AAAA,cAJA,eAKA;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC,qCAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UAHE;AAgBC;;GApDMH,Q;UAESL,U,EACCG,W;;;KAHVE,Q;AAsDT,eAAeA,QAAf","sourcesContent":["import React, {useState} from 'react'\nimport {useHistory, Link} from 'react-router-dom'\nimport axios from 'axios'\nimport {useDispatch} from 'react-redux'\nimport { setAuth } from '../../redux/actions/auth.action'\n\n\nfunction Registry(){\n\n  const history = useHistory()\n  const dispatch = useDispatch()\n\n  function handleSubmit(event){\n  \n    event.preventDefault()\n    const input_data = Object.fromEntries(new FormData(event.target))\n\n    try{\n        axios.post('http://localhost:3000/auth/registration', {\n        firstName: input_data.firstName ,\n        lastName: input_data.lastName,\n        email: input_data.email,\n        password: input_data.password\n    }).then((response)=> \n    {\n\n      //удалить эту логику кроме push\n      dispatch(setAuth())\n      localStorage.setItem('user_id', response.data.id);\n      history.push('/')\n  \n    })\n\n    } catch(e){\n      alert(e.response.data.message)\n    }\n   \n  \n  \n\n  }\n                               \n  \n  return (\n\n\n<div className=\"login\">\n\t<h1>Регистрация пользователя</h1>\n    <form onSubmit={handleSubmit}>\n    <input type=\"text\" placeholder=\"Имя\" autoFocus name=\"firstName\" ></input>\n    <input type=\"text\" placeholder=\"Фамилия\"  name=\"lastName\" ></input>\n    <input type=\"email\" placeholder=\"email\"  name=\"email\" ></input>\n    <input type=\"password\" placeholder=\"password\" name=\"password\" type=\"password\"></input>\n    <button type=\"submit\" className=\"btn btn-primary btn-block btn-large\">Подтвердить</button> \n    </form>\n</div> \n\n  )\n\n  }\n\nexport default Registry\n"]},"metadata":{},"sourceType":"module"}